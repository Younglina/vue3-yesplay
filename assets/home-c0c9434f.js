import{_ as r}from"./CardList-5de5af78.js";import{r as n,c as o,a as p,F as c,g as d,b as u,d as y,e as g,o as l,f as m}from"./index-4092623b.js";import"./LinkTo-9134ca92.js";const h={__name:"home",setup(_){const i=n([{data:[],title:"推荐歌单",type:"playlist",key:"result",loading:!0,api:d},{data:[],title:"新专速递",type:"album",api:u,loading:!0,key:"albums"},{data:[],title:"推荐艺人",type:"artist",api:y,loading:!0,key:"list",subkey:"artists",cardNum:6},{data:[],title:"排行榜",type:"toplist",api:g,loading:!0,key:"list",cardNum:5}]);return i.map(t=>{t.api().then(s=>{let e=s?s[t.key]:[];t.type==="album"&&e.map(a=>{a.subLink={type:"artist",id:a.artist.id,name:a.artist.name}}),t.type==="artist"&&(e=e[t.subkey].slice(0,6)),t.type==="toplist"&&(e=e.slice(0,5)),t.data=e,t.loading=!1}).catch(s=>{console.log(s),t.loading=!1})}),(t,s)=>{const e=r;return l(!0),o(c,null,p(i,a=>(l(),m(e,{key:a.title,loading:a.loading,title:a.title,type:a.type,"card-num":a.cardNum,cards:a.data},null,8,["loading","title","type","card-num","cards"]))),128)}}};export{h as default};
